{"ast":null,"code":"var _jsxFileName = \"/Users/krein/Downloads/Login-Register-logic-React-main/src/pages/Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useValidation } from '../hooks/useValidation';\nimport { ContextAuth } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Register = () => {\n  _s();\n  const {\n    auth,\n    setAuth\n  } = useContext(ContextAuth);\n  const navigate = useNavigate();\n  const [validation, setValidation] = useState(true);\n  const name = useValidation('');\n  const email = useValidation('');\n  const password = useValidation('');\n  const checked = useValidation(false);\n  useEffect(() => {\n    if (!name.errorMessage && !email.errorMessage && !password.errorMessage && !checked.errorMessage) {\n      setValidation(false);\n    } else {\n      setValidation(true);\n    }\n  }, [checked.errorMessage, email.errorMessage, name.errorMessage, password.errorMessage]);\n  useEffect(() => {\n    if (auth) {\n      navigate('/');\n    }\n  }, [auth, navigate]);\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!name.errorMessage && !email.errorMessage && !password.errorMessage && !checked.errorMessage) {\n      setAuth(() => true);\n      localStorage.setItem('token', 'true');\n      alert('Вы успешно зарегистрировались!');\n      navigate('/');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0418\\u043C\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          type: \"text\",\n          value: name.value,\n          onBlur: name.onBlur,\n          onChange: name.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), name.dirty && name.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: name.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          type: \"email\",\n          value: email.value,\n          onBlur: email.onBlur,\n          onChange: email.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), email.dirty && email.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: email.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          type: \"password\",\n          value: password.value,\n          onBlur: password.onBlur,\n          onChange: password.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), password.dirty && password.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: password.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u0421\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D \\u0441 \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F\\u043C\\u0438\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"checking\",\n          type: \"checkbox\",\n          value: checked.value,\n          onBlur: checked.onBlur,\n          onChange: checked.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), checked.dirty && checked.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: checked.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: validation,\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"Xgk1I7MrrWbT+iK9lJ44VpebFa8=\", false, function () {\n  return [useNavigate, useValidation, useValidation, useValidation, useValidation];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","useValidation","ContextAuth","jsxDEV","_jsxDEV","Register","_s","auth","setAuth","navigate","validation","setValidation","name","email","password","checked","errorMessage","handleSubmit","e","preventDefault","localStorage","setItem","alert","children","onSubmit","noValidate","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onBlur","onChange","dirty","error","style","color","disabled","_c","$RefreshReg$"],"sources":["/Users/krein/Downloads/Login-Register-logic-React-main/src/pages/Register.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useValidation } from '../hooks/useValidation'\nimport { ContextAuth } from '../App'\n\nexport const Register = () => {\n    const {auth, setAuth} = useContext(ContextAuth)\n    const navigate = useNavigate()\n    const [validation, setValidation] = useState(true)\n    const name = useValidation('')\n    const email = useValidation('')\n    const password = useValidation('')\n    const checked = useValidation(false)\n\n    useEffect(() => {\n        if(!name.errorMessage \n            && !email.errorMessage \n            && !password.errorMessage \n            && !checked.errorMessage) {\n            setValidation(false)\n        } else {\n            setValidation(true)\n        }\n    }, [checked.errorMessage, email.errorMessage, name.errorMessage, password.errorMessage])\n\n      useEffect(() => {\n        if (auth) {\n            navigate('/')\n        }\n      }, [auth, navigate])\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        if(!name.errorMessage \n            && !email.errorMessage \n            && !password.errorMessage \n            && !checked.errorMessage) {\n                setAuth(() => true)\n                localStorage.setItem('token', 'true')\n                alert('Вы успешно зарегистрировались!')\n                navigate('/')\n            }\n    }\n\n    return (\n    <div>\n        <form onSubmit={handleSubmit} noValidate>\n        <label>\n          <p>Имя</p>\n          <input name='name' type='text' value={name.value} onBlur={name.onBlur} onChange={name.onChange}/>\n          {(name.dirty && name.error) && <div style={{color: 'red'}}>{name.errorMessage}</div>}\n        </label>\n        <label>\n          <p>Почта</p>\n          <input name='email' type='email' value={email.value} onBlur={email.onBlur} onChange={email.onChange} />\n          {(email.dirty && email.error) && <div style={{color: 'red'}}>{email.errorMessage}</div>}\n        </label>\n        <label>\n          <p>password</p>\n          <input name='password' type='password' value={password.value} onBlur={password.onBlur} onChange={password.onChange} />\n          {(password.dirty && password.error) && <div style={{color: 'red'}}>{password.errorMessage}</div>}\n        </label>\n        <label>\n            Согласен с условиями\n            <input name=\"checking\" type=\"checkbox\" value={checked.value} onBlur={checked.onBlur} onChange={checked.onChange}/>\n            {(checked.dirty && checked.error) && <div style={{color: 'red'}}>{checked.errorMessage}</div>}\n        </label>\n        <button type=\"submit\" disabled={validation}>Авторизоваться</button>\n        </form>\n    </div>\n  )\n}\n\n\nexport default Register"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}